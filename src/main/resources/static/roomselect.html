<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="/js/jquery-3.3.1.min.js"></script>
    <script>
        let getRoomList = function () {
            let result = [];
            $.ajax({
                url: "/getRoomList",
                type: "GET",
                sync: false,
                success: (resultJSON) => {
                    result = $.parseJSON(resultJSON);
                    console.log(result);
                    for (let i = 0; i < 10; ++i) {
                        let textRoom = document.getElementById("textRoom" + (i + 1));
                        textRoom.innerHTML = "room" + (i + 1) + " " + result[i].length + "/6";
                    }
                }
            });
            return result;
        }
        window.onload = () => {
            let divGround = document.getElementById("divGround");
            for (let i = 0; i < 10; ++i) {
                divGround.innerHTML += "<button type='button' style = \"border: 3px solid #100000; height: 64px; width: 1024px\" id = buttonRoom" + (i + 1) + "></button>";
            }
            for (let i = 0; i < 10; ++i) {
                let buttonRoom = document.getElementById("buttonRoom" + (i + 1));
                buttonRoom.innerHTML += "<span id = textRoom" + (i + 1) + "> room" + (i + 1) + " 0 / 6</span>"
                buttonRoom.onclick = () => {
                    window.location = location.origin + "/chatroom?roomId=" + (i + 1);
                }
            }

            getRoomList();
        }
    </script>
</head>
<body>
<div id="divGround"></div>
</body>
</html>